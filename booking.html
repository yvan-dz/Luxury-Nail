<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nail Artistry - Book Your Appointment</title>
    <!-- Load Bootstrap first -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- Load Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- Load custom styles -->
   
    <link rel="stylesheet" href="booking.css">
    
</head>
<body>
     <!-- Navbar -->
     <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">Nail Artistry</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#gallery">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#founder">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#testimonials">Testimonials</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
                </ul>
                
            </div>
        </div>
    </nav>

    <!-- Booking Section -->
    <section id="booking" class="content-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center" id="service-title" data-aos="fade-up">Book Your Appointment</h2>
            <p class="text-center lead mb-5" data-aos="fade-up" data-aos-delay="100" id="intro">
                Welcome to the booking page of <strong>Nail Artistry</strong>. Here, you can schedule your appointment at your convenience. Whether it's a <strong>luxurious manicure</strong>, <strong>creative nail art</strong>, or a <strong>relaxing spa pedicure</strong>, we're excited to pamper you with the best care. <strong>Secure your slot today!</strong>
            </p>
            
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="card mb-4" data-aos="fade-up" data-aos-delay="200">
                        <div class="card-body">
                            <h4 class="card-title">Availability Calendar</h4>
                            <!-- Google Calendar iframe -->
                            <div>
                                <iframe src="https://calendar.google.com/calendar/embed?src=yvandzefak1@gmail.com&ctz=Europe/Paris&showTitle=0&showPrint=0&showTabs=0&showCalendars=0&showTz=0&mode=MONTH" style="border: 0" width="100%" height="600" frameborder="0" scrolling="no"></iframe>
                            </div>
                        </div>
                    </div>
                    <form id="bookingForm" data-aos="fade-up" data-aos-delay="300" onsubmit="redirectToPayPal(event)">
                        <div class="mb-3">
                            <input type="text" id="userName" class="form-control" placeholder="Your Name" required>
                        </div>
                        <div class="mb-3">
                            <input type="email" id="userEmail" class="form-control" placeholder="Your Email" required>
                        </div>
                        <div class="mb-3">
                            <input type="date" id="selectedDateInput" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <input type="time" id="selectedTimeInput" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <select id="selectedService" class="form-control" required>
                                <option value="" disabled selected>Select Service</option>
                                <option value="30">Manucure résine sur capsule - 30€</option>
                                <option value="25">Manucure résine sur ongles naturels - 25€</option>
                                <option value="15">Manucure semi permanent sur ongles naturels - 15€</option>
                                <option value="35">Pédicure soin intégral + Résine - 35€</option>
                                <option value="30">Pédicure simple + résine - 30€</option>
                                <option value="20">Pédicure simple + semi permanent - 20€</option>
                                <option value="20">Remplissage - 20€</option>
                            </select>
                        </div>
                        <button id="bookNowBtn" class="btn btn-primary btn-lg w-100 mt-4" type="submit">Book Now</button>
                    </form>
                </div>
            </div>
            
            <div class="alert alert-info text-center mt-5" role="alert" data-aos="fade-up" data-aos-delay="400">
                <i class="fas fa-info-circle"></i> <strong>Important:</strong> A partial payment will be required to secure your booking. This deposit is refundable if the appointment is canceled at least 2 days in advance. This policy is in place to ensure better appointment management and to protect the time of our esteemed owner, Jane Doe.
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer py-3">
        <div class="container text-center">
            <p>&copy; 2024 Nail Artistry. All Rights Reserved.</p>
            <p>Designed by <a href="https://github.com/yvan-dz" target="_blank">Yvan Dzefak</a></p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        AOS.init();

        // Testimonial slider script
        let testimonialIndex = 0;
        function showTestimonial(n) {
            const testimonials = document.querySelectorAll('.testimonial');
            testimonialIndex = (n + testimonials.length) % testimonials.length;
            testimonials.forEach((testimonial, index) => {
                testimonial.classList.remove('active');
                if (index === testimonialIndex) {
                    testimonial.classList.add('active');
                }
            });
        }
        function changeTestimonial(n) {
            showTestimonial(testimonialIndex + n);
        }
        
        function generateGoogleCalendarLink(event) {
            event.preventDefault();

            const name = document.getElementById('userName').value;
            const email = document.getElementById('userEmail').value;
            const date = document.getElementById('selectedDateInput').value;
            const time = document.getElementById('selectedTimeInput').value;
            const service = document.getElementById('selectedService').value;

            // Combine date and time into a single datetime string
            const startDateTime = new Date(`${date}T${time}`).toISOString();
            const endDateTime = new Date(new Date(`${date}T${time}`).getTime() + 60 * 60 * 1000).toISOString(); // Assume 1-hour duration

            // Generate Google Calendar event link
            const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(service)}&dates=${startDateTime.replace(/-|:|\.\d+/g, '')}/${endDateTime.replace(/-|:|\.\d+/g, '')}&details=Client: ${encodeURIComponent(name)} (${encodeURIComponent(email)})&sf=true&output=xml`;

            // Redirect the user to the Google Calendar event creation page
            window.open(googleCalendarUrl, '_blank');
        }
    </script>

    <!-- Scripts -->
    <script>
        function redirectToPayPal(event) {
            event.preventDefault();
            
            const servicePrice = document.getElementById('selectedService').value;

            if (servicePrice) {
                // Redirect to PayPal.me with the appropriate amount
                const paypalUrl = `https://www.paypal.me/YvanDzefak/${servicePrice}`;
                window.location.href = paypalUrl;
            } else {
                alert('Please select a service to book.');
            }
        }
    </script>
    
</html>
